<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8">
    <title>관리자 대시보드</title>
    <style>
        body { font-family: sans-serif; margin: 20px; }
        header { margin-bottom: 20px; }
        .summary { display: flex; gap: 16px; margin-bottom: 24px; }
        .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 12px 16px;
            min-width: 140px;
        }
        .card-title { font-size: 0.9rem; color: #666; }
        .card-value { font-size: 1.4rem; font-weight: bold; }
        table { border-collapse: collapse; width: 100%; margin-top: 12px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background: #f4f4f4; }
        nav a { margin-right: 12px; }
    </style>
    <form id="logoutForm" action="/api/logout" method="post" style="display:inline;">
        <button type="submit">로그아웃</button>
    </form>

</head>
<body>

<header>
    <h1>관리자 대시보드</h1>
    <p th:text="'로그인: ' + ${loginUser.username} + ' (' + ${loginUser.role} + ')'"></p>
    <nav>
        <!-- 앞으로 만들 페이지들 링크 -->
        <a th:href="@{/admin}">대시보드</a>
        <a th:href="@{/admin/users}">유저 관리</a>
        <a th:href="@{/admin/chars}">캐릭터 관리</a>
        <a th:href="@{/admin/bosses}">보스 관리</a>
        <a th:href="@{/admin/raids}">레이드 세트 관리</a>
        <a th:href="@{/admin/skills}">보스 스킬 관리</a>
        <a th:href="@{/admin/user-skills}">유저 스킬 관리</a>
        <a th:href="@{/my-page}">로비</a>
        <a th:href="@{/admin/shop}">상점 아이템</a>
    </nav>
    <hr/>
</header>

<section class="summary">
    <div class="card">
        <div class="card-title">전체 유저 수</div>
        <div class="card-value" th:text="${userCount}">0</div>
    </div>

    <div class="card">
        <div class="card-title">전체 캐릭터 수</div>
        <div class="card-value" th:text="${charCount}">0</div>
    </div>

    <div class="card">
        <div class="card-title">등록된 보스 수</div>
        <div class="card-value" th:text="${bossCount}">0</div>
    </div>
</section>

<section>
    <h2>보스 목록</h2>
    <table>
        <thead>
        <tr>
            <th>ID</th>
            <th>이름</th>
            <th>최대 HP</th>
            <th>현재 HP</th>
            <th>방어력</th> <!-- 라벨도 defense에 맞게 바꾸자 -->
        </tr>
        </thead>
        <tbody>
        <tr th:each="b : ${bosses}">
            <td th:text="${b.id}">1</td>
            <td th:text="${b.name}">Boss</td>
            <td th:text="${b.maxHp}">0</td>
            <td th:text="${b.currentHp}">0</td>
            <td th:text="${b.defense}">0</td> <!-- 여기! -->
        </tr>
        <tr th:if="${#lists.isEmpty(bosses)}">
            <td colspan="5">등록된 보스가 없습니다.</td>
        </tr>
        </tbody>
    </table>

</section>

</body>
</html>
